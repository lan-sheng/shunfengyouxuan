"use strict";function ajax(s){return new Promise(function(t,a){var n=new XMLHttpRequest;if(s.type=s.type||"get",!s.url)throw new Error("接口地址不能为空");if(s.data&&("Object"===Object.prototype.toString.call(s.data).slice(8,-1)?s.data=function(e){if("Object"===Object.prototype.toString.call(e).slice(8,-1)){var t=[];for(var a in e)t.push(a+"="+e[a]);return t.join("&")}}(s.data):s.data=s.data),s.data&&"get"===s.type&&(s.url+="?"+s.data),"false"===s.async||!1===s.async?s.async=!1:s.async=!0,n.open(s.type,s.url,s.async),s.data&&"post"===s.type?(n.setRequestHeader("content-type","application/x-www-form-urlencoded"),n.send(s.data)):n.send(),s.async)n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var e=null;e="json"===s.dataType?JSON.parse(n.responseText):n.responseText,t(e)}else a("接口地址有误")};else if(200===n.status){var e=null;e="json"===s.dataType?JSON.parse(n.responseText):n.responseText,t(e)}else a("接口地址有误")})}